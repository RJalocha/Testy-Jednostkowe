@using OrderService.Models
@model Delivery

@{
    ViewBag.Title = "Delivery";
}

<script language="javascript">
    function updateDelivery(deliveryId) {
        window.location.href=`/Delivery/UpdateDelivery?id=${deliveryId}`;
    }
    function deleteDelivery(deliveryId) {
        const response = confirm("Do you want to delete this delivery?")
        if (response) {
            $("#deleteDeliveryFormId" + deliveryId).submit()
        }
    }
</script>

<h2>Delivery</h2>

@Html.ValidationSummary(true)

<table>
    <thead>
        <tr>
            <th>Edit</th>
            <th>Delete</th>
            <th>Id</th>
            <th>Name</th>
            <th>Price</th>
            <th>Delivery Days</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><input type="button" onclick="updateDelivery(@Model.Id)" value="Edit" /></td>
            @using (Html.BeginForm("DeleteDeliveryPost", "Delivery", new { id = @Model.Id }, FormMethod.Post, new { id = "deleteDeliveryFormId" + @Model.Id }))
            {
                <td><input type="button" onclick="deleteDelivery(@Model.Id)" value="Delete" /></td>
            }
            <td>@Model.Id</td>
            <td>@Model.Name</td>
            <td>@Model.Price</td>
            <td>@Model.DeliveryDays</td>
        </tr>
    </tbody>
</table>